<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>The Sea</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <style>
        #startButton {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 1em 2em;
            font-size: 1.5em;
            background-color: transparent;
            color: white;
            border: 2px solid #FFFFFF;
            cursor: pointer;
            z-index: 10;
        }

        #startButton:focus {
            outline: none;
        }
    </style>
</head>

<body>
    <button id="startButton">Enter The Sea</button>

    <a-scene>
        <a-entity sound="src: ambient-music.mp3; autoplay: true; loop: true"></a-entity>
        <a-camera position="0 1.6 0" wasd-controls="enabled: false"></a-camera>
        <a-sky color="#0B0011"></a-sky>
        <a-cylinder color="#FFFFFF" position="0 0 0" radius="3" height="0.1"></a-cylinder>

        <script>
            // play music when button pressed
            document.getElementById('startButton').addEventListener('click', function () {

                this.style.display = 'none';

                const musicEntity = document.getElementById('music');
                musicEntity.components.sound.playSound();
            });

            // create the floating white blocks
            function createFlyingBlock() {
                let block = document.createElement('a-box');
                block.setAttribute('color', 'white');
                block.setAttribute('depth', 0.2);
                block.setAttribute('height', 0.2);
                block.setAttribute('width', 0.2);

                let x = (Math.random() - 0.5) * 20;
                let y = (Math.random() * 10) + 5;
                let z = (Math.random() - 0.5) * 20;
                block.setAttribute('position', `${x} ${y} ${z}`);

                block.setAttribute('animation', {
                    property: 'position',
                    to: `${x + (Math.random() - 0.5) * 100} 
                    ${y + (Math.random() - 0.5) * 100} 
                    ${z + (Math.random() - 0.5) * 100}`,
                    dur: 20000,
                    easing: 'linear'
                });


                document.querySelector('a-scene').appendChild(block);


                setTimeout(() => {
                    block.parentNode.removeChild(block);
                }, 20000);
            }

            setInterval(createFlyingBlock, 100);
        </script>
</body>

</html>